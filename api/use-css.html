
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Using hooks Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="scoped-component.html" />
    
    
    <link rel="prev" href="../walkthrough/conditional-css.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Kremling Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Walkthrough</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../walkthrough/getting-started.html">
            
                <a href="../walkthrough/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../walkthrough/conditional-css.html">
            
                <a href="../walkthrough/conditional-css.html">
            
                    
                    Conditionally apply css
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="use-css.html">
            
                <a href="use-css.html">
            
                    
                    Using hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="scoped-component.html">
            
                <a href="scoped-component.html">
            
                    
                    Class components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../walkthrough/kremling-loader.html">
            
                <a href="../walkthrough/kremling-loader.html">
            
                    
                    Kremling loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../walkthrough/configuration.html">
            
                <a href="../walkthrough/configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">API</li>
        
        
    
        <li class="chapter active" data-level="3.1" data-path="use-css.html">
            
                <a href="use-css.html">
            
                    
                    useCss hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="scoped-component.html">
            
                <a href="scoped-component.html">
            
                    
                    Scoped component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="always-maybe-and-toggle.html">
            
                <a href="always-maybe-and-toggle.html">
            
                    
                    always, maybe, and toggle
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../concepts/scoped-css.html">
            
                <a href="../concepts/scoped-css.html">
            
                    
                    Scoped css
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../concepts/unmounting-css.html">
            
                <a href="../concepts/unmounting-css.html">
            
                    
                    Unmounting css
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../concepts/naming-css-classes.html">
            
                <a href="../concepts/naming-css-classes.html">
            
                    
                    Naming css classes
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Using hooks</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="usecss-hook">useCss hook</h1>
<p>Kremling exports a <a href="https://reactjs.org/hooks" target="_blank">react hook</a> called <code>useCss</code>, which you use in your components.
To do so, first make sure that your version of react is at least <code>react@16.8.0</code>.</p>
<p>Since hooks only work with function components, you won&apos;t be able to call <code>useCss</code> in your class components.
Instead, check out <a href="scoped-component.html">Scoped component</a>, which is an alternative
that works great with classes.</p>
<h2 id="basic-example">Basic Example</h2>
<p>The useCss hook allows you to write css that will only apply to your component and to its children.</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {useCss} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;kremling&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyComponent</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">const</span> scope = useCss(css)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> {<span class="hljs-attr">...scope</span>} <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;my-button&quot;</span>&gt;</span>
        Button
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> css = <span class="hljs-string">`
&amp; .container {
  border: 1px solid black;
}

&amp; .my-button {
  background-color: lawngreen;
}
`</span>
</code></pre>
<p>In this example, the <code>container</code> and <code>my-button</code> classes will work great for MyComponent, but cannot be
accessed by any sibling or parent components. This is what kremling calls <a href="../concepts/scoped-css.html">scoped css</a>.</p>
<p>One thing to note is that we&apos;re able to use the <code>my-button</code> css class without putting the <code>{...scope}</code> props onto the
<code>&lt;button&gt;</code>. This is because you only need to be able to put <code>{...scope}</code> on your container elements, and the inner elements
will already be in scope. See the <a href="../concepts/scoped-css.html">scoped css docs</a> for more information.</p>
<h2 id="fragments">Fragments</h2>
<p>When you return a fragment from a component, you&apos;ll often have two or more elements inside of the fragment. In such cases,
do not try to put the css scope onto the fragment, but instead on each of the elements inside of the fragment:</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {useCss} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;kremling&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mario</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> scope = useCss(css)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> {<span class="hljs-attr">...scope</span>} <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;my-div&quot;</span>&gt;</span>
        A div
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> {<span class="hljs-attr">...scope</span>} <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;my-span&quot;</span>&gt;</span>
        A span
      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span>
  )
}

const css = `
&amp; .my-div {
  border: 1px solid red;
}

&amp; .my-span {
  border: 1px solid blue;
}
`
</span></code></pre>
<h2 id="advanced-example">Advanced Example</h2>
<p>Since css scopes apply to all dom elements in your component <em>and in children components</em>, you can define common css
in a parent component that is used by all children.</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {useCss} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;kremling&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parent</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> {<span class="hljs-attr">...scope</span>}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  )
}

function Child() {
  // The child-button class is &quot;in scope&quot;
  return (
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;child-button&quot;</span>&gt;</span>Child<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  )
}

const css = `
&amp; .child-button {
  background-color: blue;
}
`
</span></code></pre>
<h2 id="can-i-apply-a-css-scope-to-a-react-component-instead-of-a-dom-element">Can I apply a css scope to a React component (instead of a dom element)?</h2>
<p>No you cannot. The props in the <code>scope</code> object need to be put into the dom. For example,
the following code will not work:</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {useCss} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;kremling&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">DontDoThis</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> scope = useCss(css)

  <span class="hljs-comment">// Scope should only be applied to dom elements, not components</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> {<span class="hljs-attr">...scope</span>} /&gt;</span>
  )
}

function Child(props) {
  // The child-class css class will not be applied to this div.
  return (
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;child-class&quot;</span>&gt;</span>
      Child
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  )
}

const css = `
&amp; .child-class {
  color: lawngreen;
}
`
</span></code></pre>
<h2 id="api">API</h2>
<p><code>const scope = useCss(css)</code></p>
<p>The useCss hook is called with one argument and returns an object.</p>
<h4 id="arguments">Arguments</h4>
<ul>
<li><code>css</code>: A string of css, or a PostCSS object created through <a href="../walkthrough/kremling-loader.html">kremling-loader</a>. CSS
strings must have ampersand (<code>&amp;</code>) characters before every css selector. The css will be appended to the dom when your
component is mounted, and will be removed from the dom when the component unmounts. Changing the css that is passed
into useCss() is a supported feature - a new css scope will be created for the new css.</li>
</ul>
<h4 id="return-value">Return value</h4>
<p>useCss returns an object of React props that you should apply to dom element containers. The container and any elements inside
of the container will be &quot;in scope&quot; and have access to your css rules.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../walkthrough/conditional-css.html" class="navigation navigation-prev " aria-label="Previous page: Conditionally apply css">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="scoped-component.html" class="navigation navigation-next " aria-label="Next page: Class components">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Using hooks","level":"2.3","depth":1,"next":{"title":"Class components","level":"2.4","depth":1,"path":"api/scoped-component.md","ref":"api/scoped-component.md","articles":[]},"previous":{"title":"Conditionally apply css","level":"2.2","depth":1,"path":"walkthrough/conditional-css.md","ref":"walkthrough/conditional-css.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","github","ga"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/CanopyTax/kremling"},"ga":{"configuration":"auto","token":"UA-133316058-1"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"api/use-css.md","mtime":"2019-02-06T18:35:37.390Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-02-06T18:36:21.173Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

